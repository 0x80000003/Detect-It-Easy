function detect(){if(!X.c("'CSTM'FF")&&!X.c("'CSTM'FE")||X.U8(5)<254)return!1
var i=254==X.U8(5)?_LE:_BE
if(!X.c("'INFO'",ip=X.U32(24,i)))return!1
if(ip+=32,!X.c("'SEEK'",t=64+X.U32(68,i))||t!=X.U32(36,i))return!1
if(!X.c("'DATA'",t+=X.U32(t+4,i))||t!=X.U32(48,i))return!1
if(bDetected=!0,sVersion="v"+X.U32(8,i).toString(16)+"_"+(254==i?"le":"be"),X.isVerbose()){var e=["PCM8","PCM16","DSP ADPCM","IMA ADPCM"][X.U8(ip)],r=X.U8(ip+1),n=X.U8(ip+2),U=X.U32(ip+4,i)
sOption(e+" "+n+"ch "+U+"Hz"+(r?" looped":"")+" sz:"+outSz(X.U32(12,i)))}return result()}init("audio","Nintendo CTR Stream (.BCSTM)")
